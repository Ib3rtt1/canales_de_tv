<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrusel Infinito de Canales</title>
    {% load static %}
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Archivo CSS del carrusel -->
    <link rel="stylesheet" href="{% static 'guia_tv/css/carrusel.css' %}">
</head>
<body>
    {% include 'navbar.html' %}
    
    <div class="container-fluid">
        <div class="row">
            <!-- Columna izquierda con el carrusel vertical -->
            <div class="col-md-3 d-flex flex-column align-items-start barra_lateral">
                <button class="control-btn my-0" onclick="scrollUp()">⬆️ Subir</button>
                <div class="carrusel-vertical">
                    <div id="carouselVertical" class="carrusel-container">
                        <a href="javascript:void(0);" onclick="loadIframe('https://www.youtube.com/watch?v=gNATxsBhqWE')">
                            <img src="{% static 'guia_tv/img/Logotipo_de_Canal_13_Chile_(2010–2018).svg.png' %}" class="logo-canal" alt="Logo Canal 13">
                        </a>
                        <a href="javascript:void(0);" onclick="loadIframe('https://www.youtube.com/embed/0dtQNy1Kx9A')">
                            <img src="{% static 'guia_tv/img/mega.png' %}" class="logo-canal" alt="Imagen 2">
                        </a>
                        <img src="https://via.placeholder.com/100x100?text=Imagen+3" class="logo-canal" alt="Imagen 3">
                        <img src="https://via.placeholder.com/100x100?text=Imagen+4" class="logo-canal" alt="Imagen 4">
                        <img src="https://via.placeholder.com/100x100?text=Imagen+5" class="logo-canal" alt="Imagen 5">
                        <img src="https://via.placeholder.com/100x100?text=Imagen+3" class="logo-canal" alt="Imagen 6">
                        <img src="https://via.placeholder.com/100x100?text=Imagen+4" class="logo-canal" alt="Imagen 7">
                        <img src="https://via.placeholder.com/100x100?text=Imagen+5" class="logo-canal" alt="Imagen 8">
                        <!-- No es necesario duplicar imágenes -->
                    </div>
                </div>
                <button class="control-btn my-0" onclick="scrollDown()">⬇️ Bajar</button>
            </div>
            <!-- Columna derecha (contenido adicional) -->
            <div class="col-md-9 py-3 ">
                <h1 class="text-center">Bienvenido a la Guía de TV</h1>
                    <!-- iframe para reproducir el video -->
                    <iframe id="videoIframe" width="100%" height="400px" 
                            src="" title="YouTube video player" 
                            frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                    </iframe>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Archivo JS del carrusel -->
    <script src="{% static 'guia_tv/js/carrusel.js' %}"></script>

    <script>
        function loadIframe(videoUrl) {
            const iframe = document.getElementById('videoIframe');
            iframe.src = videoUrl; // Cambia la URL del iframe
            const videoModal = new bootstrap.Modal(document.getElementById('videoModal'));
            videoModal.show(); // Muestra el modal
        }

        // Al cerrar el modal, reinicia el video
        const videoModal = document.getElementById('videoModal');
        videoModal.addEventListener('hidden.bs.modal', function () {
            const iframe = videoModal.querySelector('iframe');
            iframe.src = ''; // Reinicia el iframe
        });
    </script>
</body>
</html>
